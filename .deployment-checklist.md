# Pre-Deployment Checklist

Use this checklist before deploying to production.

## Configuration

- [ ] `.firebaserc` updated with correct project ID
- [ ] `.env.local` configured with production Firebase config
- [ ] Cloud Function environment variables set via `firebase functions:config:set`
- [ ] Firestore indexes created (check `firestore.indexes.json`)

## Code Quality

- [ ] All tests passing: `npm run test`
- [ ] TypeScript compilation successful: `npm run lint`
- [ ] Functions tests passing: `cd functions && npm run test`
- [ ] No console errors in browser
- [ ] Build completes successfully: `npm run build`

## Security

- [ ] Firestore security rules reviewed and tested
- [ ] Authentication providers configured correctly
- [ ] Rate limiting implemented in Cloud Functions
- [ ] Input validation in place for all user inputs
- [ ] HTTPS enforced (automatic with Firebase Hosting)
- [ ] Security headers configured in `firebase.json`

## Functionality

- [ ] User can sign up with email/password
- [ ] User can sign in with Google OAuth
- [ ] User can create a habit
- [ ] User can complete daily check-in
- [ ] Analytics display correctly (streak, completion rate)
- [ ] Timeline graph shows check-in history
- [ ] Notifications work (if enabled)
- [ ] Offline functionality works
- [ ] Data syncs when back online

## Performance

- [ ] Page load time < 1.5 seconds on mid-range device
- [ ] Check-in optimistic UI < 100ms
- [ ] Analytics update < 2 seconds after check-in
- [ ] Bundle size optimized (check with `npm run build`)
- [ ] Images optimized and lazy loaded
- [ ] Code splitting configured

## Monitoring

- [ ] Firebase Performance Monitoring enabled
- [ ] Error tracking configured
- [ ] Cloud Function logging in place
- [ ] Alerts configured for critical errors

## Documentation

- [ ] README.md updated with project information
- [ ] DEPLOYMENT.md reviewed
- [ ] Environment variables documented
- [ ] API documentation up to date (if applicable)

## Post-Deployment

- [ ] Verify deployment at `https://your-project-id.web.app`
- [ ] Test authentication flow
- [ ] Test habit creation and check-in
- [ ] Monitor Cloud Function logs for errors
- [ ] Check Firestore quota usage
- [ ] Verify analytics are updating correctly

## Rollback Plan

- [ ] Previous deployment version noted
- [ ] Rollback procedure documented
- [ ] Database backup taken (if applicable)
